{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"48983596-6477ed746a1aeaedff0beb1a5\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return axios.get(url).then(response => {\n    if (response.data.hits.length === 0) {\n      return Promise.reject(\"No images found.\");\n    }\n    return response.data.hits;\n  });\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nlet lightbox = new SimpleLightbox(\".gallery a\");\n\nexport function renderImages(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <a href=\"${largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        <div class=\"info\">\n          <p>‚ù§Ô∏è ${likes}</p>\n          <p>üëÄ ${views}</p>\n          <p>üí¨ ${comments}</p>\n          <p>‚¨áÔ∏è ${downloads}</p>\n        </div>\n      </a>`\n    )\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages, clearGallery } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\"#search-form\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n  \n  const query = event.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.error({ title: \"Error\", message: \"Please enter a search query!\" });\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = \"block\";\n\n  fetchImages(query)\n    .then(images => {\n      renderImages(images);\n      iziToast.success({ title: \"Success\", message: \"Images loaded!\" });\n    })\n    .catch(error => {\n      iziToast.error({ title: \"Error\", message: error });\n    })\n    .finally(() => {\n      loader.style.display = \"none\";\n      form.reset();\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","axios","response","gallery","lightbox","SimpleLightbox","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","form","loader","event","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,OAAOE,EAAM,IAAID,CAAG,EAAE,KAAKE,GACrBA,EAAS,KAAK,KAAK,SAAW,EACzB,QAAQ,OAAO,kBAAkB,EAEnCA,EAAS,KAAK,IACtB,CACH,CCXA,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAEvC,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB;AAAA,iBACnEL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,kBAE5BC,CAAK;AAAA,kBACLC,CAAK;AAAA,kBACLC,CAAQ;AAAA,kBACRC,CAAS;AAAA;AAAA,WAG3B,EACK,KAAK,EAAE,EAEVZ,EAAQ,UAAYK,EACpBJ,EAAS,QAAS,CACpB,CAEO,SAASY,GAAe,CAC7Bb,EAAQ,UAAY,EACtB,CCtBA,MAAMc,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAgB,EAEtB,MAAMpB,EAAQoB,EAAM,OAAO,SAAS,YAAY,MAAM,KAAM,EAC5D,GAAI,CAACpB,EAAO,CACVqB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,+BAAgC,EAC1E,MACJ,CAEEJ,EAAc,EACdE,EAAO,MAAM,QAAU,QAEvBpB,EAAYC,CAAK,EACd,KAAKQ,GAAU,CACdD,EAAaC,CAAM,EACnBa,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,iBAAkB,CACjE,CAAA,EACA,MAAMC,GAAS,CACdD,EAAS,MAAM,CAAE,MAAO,QAAS,QAASC,EAAO,CAClD,CAAA,EACA,QAAQ,IAAM,CACbH,EAAO,MAAM,QAAU,OACvBD,EAAK,MAAO,CAClB,CAAK,CACL,CAAC"}